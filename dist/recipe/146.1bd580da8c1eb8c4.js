"use strict";(self.webpackChunkrecipe=self.webpackChunkrecipe||[]).push([[146],{5146:(re,v,s)=>{s.r(v),s.d(v,{RecipeModule:()=>ne});var p=s(6895),u=s(3060),r=s(4006),f=s(4004),e=s(4650),q=s(1135),x=s(8505),y=s(3900),I=s(5698);const b_apiUrl="http://192.168.1.30:3000/api";var R=s(529);let Z=(()=>{class n{constructor(t){this.http=t,this._loading$=new q.X(!1),this._recipes$=new q.X([]),this.lastRecipeLoad=0}get loading$(){return this._loading$.asObservable()}get recipes$(){return this._recipes$.asObservable()}setLoadingStatus(t){this._loading$.next(t)}getRecipesFromServer(){Date.now()-this.lastRecipeLoad<=3e5||(this.setLoadingStatus(!0),this.http.get(`${b_apiUrl}/recipes`).pipe((0,x.b)(t=>{this._recipes$.next(t),this.setLoadingStatus(!1)})).subscribe())}getRecipeById(t){return this.lastRecipeLoad||this.getRecipesFromServer(),this.recipes$.pipe((0,f.U)(i=>i.filter(a=>a._id===t)[0]))}deleteRecipe(t){this.setLoadingStatus(!0),this.http.delete(`${b_apiUrl}/recipes/${t}`).pipe((0,y.w)(()=>this._recipes$),(0,I.q)(1),(0,f.U)(i=>i.filter(a=>a._id!==t)),(0,x.b)(i=>{this._recipes$.next(i),this.setLoadingStatus(!1)})).subscribe()}addRecipe(t){return this.http.post(`${b_apiUrl}/recipes`,t)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(R.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})();var c=s(3546),h=s(4859),O=s(7392),m=s(9549),C=s(4144),U=s(4385),A=s(3238);function N(n,o){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",21)(2,"mat-form-field",3),e._UZ(3,"textarea",22),e.qZA(),e.TgZ(4,"mat-icon",23),e.NdJ("click",function(){const l=e.CHM(t).index,_=e.oxw();return e.KtG(_.deleteStep(l))}),e._uU(5," delete_forever"),e.qZA()(),e.BQk()}if(2&n){const t=o.index;e.xp6(1),e.Q6J("formGroupName",t)}}function S(n,o){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",24)(2,"mat-form-field",3),e._UZ(3,"input",25),e.qZA(),e.TgZ(4,"mat-form-field",3),e._UZ(5,"input",26),e.qZA(),e.TgZ(6,"mat-form-field",3)(7,"mat-select",27)(8,"mat-option",28),e._uU(9,"Grammes"),e.qZA(),e.TgZ(10,"mat-option",29),e._uU(11,"Kilogrammes"),e.qZA(),e.TgZ(12,"mat-option",30),e._uU(13,"Unit\xe9e(s)"),e.qZA(),e.TgZ(14,"mat-option",31),e._uU(15,"Centilitres"),e.qZA(),e.TgZ(16,"mat-option",32),e._uU(17,"Millilitres"),e.qZA(),e.TgZ(18,"mat-option",33),e._uU(19,"\xc0 votre convenance"),e.qZA()()(),e.TgZ(20,"mat-icon",23),e.NdJ("click",function(){const l=e.CHM(t).index,_=e.oxw();return e.KtG(_.deleteIngredient(l))}),e._uU(21," delete_forever "),e.qZA()(),e.BQk()}if(2&n){const t=o.index;e.xp6(1),e.Q6J("formGroupName",t)}}function F(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"mat-card")(1,"button",18),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.sendForm())}),e._uU(2," Enregistrer "),e.qZA()()}}let P=(()=>{class n{constructor(t,i,a){this.router=t,this.formBuilder=i,this.recipesService=a}ngOnInit(){this.testForm(),this.intitFormRecipeBuilder()}testForm(){this.form=this.formBuilder.group({title:["",{validators:[r.kI.required,r.kI.minLength(4),r.kI.maxLength(60)],updateOn:"blur"}],imageUrl:["",r.kI.required],description:[""],prepTime:["",r.kI.required],cookTime:["",r.kI.required],eaters:["",r.kI.required],type:["dishe",r.kI.required],createdDate:new Date,steps:this.formBuilder.array([]),ingredients:this.formBuilder.array([])})}get steps(){return this.form.controls.steps}get ingredients(){return this.form.controls.ingredients}addSteps(){const t=this.formBuilder.group({title:["",r.kI.required]});this.steps.push(t)}addIngredients(){const t=this.formBuilder.group({title:["",r.kI.required],number:["",r.kI.required],unit:["g",r.kI.required]});this.ingredients.push(t)}deleteStep(t){this.steps.removeAt(t)}deleteIngredient(t){this.ingredients.removeAt(t)}sendForm(){this.recipesService.addRecipe(this.form.value).subscribe(t=>console.warn(t))}intitFormRecipeBuilder(){this.recipeFormSimple=new r.cw({title:new r.NI(null,r.kI.required),description:new r.NI(null,r.kI.required),steps:new r.Oe([new r.NI(null,r.kI.required)]),ingredients:new r.Oe([new r.NI(null)]),imageUrl:new r.NI(null,r.kI.required),prepTime:new r.NI(null,r.kI.required),cookTime:new r.NI(null,r.kI.required),eaters:new r.NI(null,r.kI.required),gallery:new r.Oe([new r.NI(null)]),type:new r.NI(null,r.kI.required)})}initFormRecipe(){this.recipeForm=this.formBuilder.group({title:[null,r.kI.required],description:[null,r.kI.required],steps:[[],r.kI.required],ingredients:[[],r.kI.required],imageUrl:[null,r.kI.required],prepTime:[null,r.kI.required],cookTime:[null,r.kI.required],eaters:[null,r.kI.required],gallery:[null],type:[null,r.kI.required]},{updateOn:"blur"}),this.recipePreview$=this.recipeForm.valueChanges.pipe((0,f.U)(t=>({...t,creatDate:new Date,likes:0})))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(u.F0),e.Y36(r.qu),e.Y36(Z))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-new-recipe"]],decls:67,vars:4,consts:[[1,"container"],[1,"main-form",3,"formGroup"],[1,"form-card"],["appearance","fill"],["type","text","matInput","","formControlName","title"],["type","number","matInput","","formControlName","eaters"],["formControlName","type"],["value","starter"],["value","dishe"],["value","desert"],["value","appetizers"],["type","text","matInput","","formControlName","description"],["type","text","matInput","","formControlName","imageUrl"],[1,"form-row"],["type","number","matInput","","formControlName","prepTime"],["type","number","matInput","","formControlName","cookTime"],["formArrayName","steps"],[4,"ngFor","ngForOf"],["mat-button","","color","primary",1,"btn-bg",3,"click"],["formArrayName","ingredients"],[4,"ngIf"],[1,"steps-form-row",3,"formGroupName"],["matInput","","formControlName","title","placeholder","Text"],[1,"delete-btn",3,"click"],[1,"ingredient-form-row",3,"formGroupName"],["matInput","","formControlName","title","placeholder","Nom"],["matInput","","formControlName","number","type","number","placeholder","valeur"],["formControlName","unit"],["value","g"],["value","kg"],["value","u"],["value","cl"],["value","ml"],["value","conv"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"mat-card",1)(2,"h1"),e._uU(3,"Ajouter une recette"),e.qZA(),e.TgZ(4,"mat-card",2)(5,"mat-form-field",3)(6,"mat-label"),e._uU(7,"Nom de la recette"),e.qZA(),e._UZ(8,"input",4),e.TgZ(9,"mat-error"),e._uU(10,"Ce champ est requis"),e.qZA()()(),e.TgZ(11,"mat-card",2)(12,"mat-form-field",3)(13,"mat-label"),e._uU(14,"Nombre de personnes"),e.qZA(),e._UZ(15,"input",5),e.TgZ(16,"mat-error"),e._uU(17,"Ce champ est requis"),e.qZA()(),e.TgZ(18,"mat-form-field",3)(19,"mat-select",6)(20,"mat-option",7),e._uU(21,"Entr\xe9e"),e.qZA(),e.TgZ(22,"mat-option",8),e._uU(23,"Plat"),e.qZA(),e.TgZ(24,"mat-option",9),e._uU(25,"Dessert"),e.qZA(),e.TgZ(26,"mat-option",10),e._uU(27,"Ap\xe9ritifs"),e.qZA()()()(),e.TgZ(28,"mat-card")(29,"mat-form-field",3)(30,"mat-label"),e._uU(31,"Description"),e.qZA(),e._UZ(32,"input",11),e.TgZ(33,"mat-error"),e._uU(34,"Ce champ est requis"),e.qZA()()(),e.TgZ(35,"mat-card")(36,"mat-form-field",3)(37,"mat-label"),e._uU(38,"Url de l'image"),e.qZA(),e._UZ(39,"input",12),e.TgZ(40,"mat-error"),e._uU(41,"Ce champ est requis"),e.qZA()()(),e.TgZ(42,"mat-card")(43,"div",13)(44,"mat-form-field",3)(45,"mat-label"),e._uU(46,"Temps de pr\xe9paration"),e.qZA(),e._UZ(47,"input",14),e.TgZ(48,"mat-error"),e._uU(49,"Ce champ est requis"),e.qZA()(),e.TgZ(50,"mat-form-field",3)(51,"mat-label"),e._uU(52,"Temps de cuisson"),e.qZA(),e._UZ(53,"input",15),e.TgZ(54,"mat-error"),e._uU(55,"Ce champ est requis"),e.qZA()()()(),e.TgZ(56,"mat-card"),e.ynx(57,16),e.YNc(58,N,6,1,"ng-container",17),e.BQk(),e.TgZ(59,"button",18),e.NdJ("click",function(){return i.addSteps()}),e._uU(60," Ajouter une \xe9tape "),e.qZA()(),e.TgZ(61,"mat-card"),e.ynx(62,19),e.YNc(63,S,22,1,"ng-container",17),e.BQk(),e.TgZ(64,"button",18),e.NdJ("click",function(){return i.addIngredients()}),e._uU(65," Ajouter un Ingr\xe9dient "),e.qZA()(),e.YNc(66,F,3,0,"mat-card",20),e.qZA()()),2&t&&(e.xp6(1),e.Q6J("formGroup",i.form),e.xp6(57),e.Q6J("ngForOf",i.steps.controls),e.xp6(5),e.Q6J("ngForOf",i.ingredients.controls),e.xp6(3),e.Q6J("ngIf",i.form.valid))},dependencies:[p.sg,p.O5,c.a8,h.lW,O.Hw,m.TO,m.KE,m.hX,C.Nt,U.gD,A.ey,r.Fj,r.wV,r.JJ,r.JL,r.sg,r.u,r.x0,r.CE],styles:["mat-form-field[_ngcontent-%COMP%]{width:45%}mat-form-field.full-width[_ngcontent-%COMP%]{width:80%;margin-left:10%}.form-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.form-card[_ngcontent-%COMP%]{margin:20px 0}.mat-radio-button[_ngcontent-%COMP%] ~ .mat-radio-button[_ngcontent-%COMP%]{margin-left:16px}mat-card-actions[_ngcontent-%COMP%]{text-align:center}mat-card[_ngcontent-%COMP%]{margin-bottom:10px}.main-form[_ngcontent-%COMP%]{padding-bottom:30px;position:relative}.loading[_ngcontent-%COMP%]{position:absolute;inset:-10px;height:inherit;z-index:10;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);display:flex;justify-content:center;align-items:center}.error-text[_ngcontent-%COMP%]{color:red}.btn-bg[_ngcontent-%COMP%]{background-color:#f0f8ff!important}mat-form-field[_ngcontent-%COMP%]{margin-right:10px}"]}),n})();var k=s(8675),M=s(9841),g=(()=>{return(n=g||(g={})).TITLE="title",n.TYPE="type",g;var n})(),T=s(1576);let w=(()=>{class n{constructor(){this.timeDiffs={minute:6e4,hour:36e5,day:864e5,week:6048e5,month:2592e6,year:31536e6}}transform(t){const l=Date.now()-new Date(t).getTime();return l<this.timeDiffs.minute?"Il y a moins d'une minute":l<this.timeDiffs.hour?"Il y a quelques minutes":l<this.timeDiffs.day?"Il y a quelques heures":l<this.timeDiffs.week?"Il y a quelques jours":l<this.timeDiffs.month?"Il y a quelques semaines":l<this.timeDiffs.year?"Il y a quelques mois":"Il y a plus d'un an"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=e.Yjl({name:"timeAgo",type:n,pure:!0}),n})(),J=(()=>{class n{transform(t,i=50){return t.length<=i?t:t.substring(0,i)+"..."}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=e.Yjl({name:"shorten",type:n,pure:!0}),n})();function L(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"img",6),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.onContinue(a.recipe._id))}),e.qZA()}if(2&n){const t=o.ngIf,i=e.oxw();e.Q6J("src",t,e.LSH)("alt",i.recipe.title)}}let $=(()=>{class n{constructor(t){this.router=t}ngOnInit(){}onContinue(t){this.router.navigateByUrl(`mes-recettes/${t}`)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(u.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-recipe-list-item"]],inputs:{recipe:"recipe"},decls:19,vars:13,consts:[[1,"example-card"],["class","card-img-class","mat-card-image","",3,"src","alt","click",4,"ngIf"],[1,"flex-content"],["mat-button","",1,"global-btn-info"],["src","../../../../assets/images/baking.png","alt","Cook Time",1,"img-icon"],["src","../../../../assets/images/cooking.png","alt","Prep Time",1,"img-icon"],["mat-card-image","",1,"card-img-class",3,"src","alt","click"]],template:function(t,i){1&t&&(e.TgZ(0,"mat-card",0),e.YNc(1,L,1,2,"img",1),e.TgZ(2,"mat-card-title"),e._uU(3),e.ALo(4,"titlecase"),e.qZA(),e.TgZ(5,"mat-card-subtitle")(6,"span"),e._uU(7),e.ALo(8,"timeAgo"),e.qZA()(),e.TgZ(9,"mat-card-content"),e._uU(10),e.ALo(11,"shorten"),e.qZA(),e.TgZ(12,"mat-card-actions",2)(13,"button",3),e._UZ(14,"img",4),e._uU(15),e.qZA(),e.TgZ(16,"button",3),e._UZ(17,"img",5),e._uU(18),e.qZA()()()),2&t&&(e.xp6(1),e.Q6J("ngIf",i.recipe.imageUrl),e.xp6(2),e.Oqu(e.lcZ(4,6,i.recipe.title)),e.xp6(4),e.Oqu(e.lcZ(8,8,i.recipe.createdDate)),e.xp6(3),e.Oqu(e.xi3(11,10,i.recipe.description,250)),e.xp6(5),e.Oqu(i.recipe.prepTime+" min"),e.xp6(3),e.Oqu(i.recipe.cookTime+" min"))},dependencies:[p.O5,c.a8,c.dn,c.n5,c.$j,c.hq,c.G2,h.lW,p.rS,w,J],styles:[".example-card[_ngcontent-%COMP%]{margin-bottom:20px;background-color:#fff}.example-header-image[_ngcontent-%COMP%]{background-image:url(https://material.angular.io/assets/img/examples/shiba1.jpg);background-size:cover}.card-img-class[_ngcontent-%COMP%]{height:225px;object-fit:cover}mat-card-content[_ngcontent-%COMP%]{height:75px}.img-icon[_ngcontent-%COMP%]{height:25px!important;padding-right:7px}.bg-btn-color[_ngcontent-%COMP%]{background-color:#f0f8ff}.fav-btn-color[_ngcontent-%COMP%]{background:lightblue;color:#fff}img[_ngcontent-%COMP%]{cursor:pointer}"]}),n})();function D(n,o){if(1&n&&(e.TgZ(0,"mat-option",9),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Q6J("value",t.value),e.xp6(1),e.hij("",t.label," ")}}function Q(n,o){1&n&&e._UZ(0,"app-recipe-list-item",10),2&n&&e.Q6J("recipe",o.$implicit)}let B=(()=>{class n{constructor(t,i){this.recipesServices=t,this.formBuilder=i}ngOnInit(){this.initForm(),this.initObservable(),this.recipesServices.getRecipesFromServer()}initForm(){this.searchCtrl=this.formBuilder.control(""),this.searchTypeCtrl=this.formBuilder.control(g.TITLE),this.searchTypeOptions=[{value:g.TITLE,label:"Nom de la recette"},{value:g.TYPE,label:"Type"}]}initObservable(){this.loading$=this.recipesServices.loading$;const t=this.searchCtrl.valueChanges.pipe((0,k.O)(this.searchCtrl.value),(0,f.U)(a=>a.toLowerCase())),i=this.searchTypeCtrl.valueChanges.pipe((0,k.O)(this.searchTypeCtrl.value));this.recipes$=(0,M.a)([t,i,this.recipesServices.recipes$]).pipe((0,f.U)(([a,l,_])=>_.filter(ie=>ie[l].toLowerCase().includes(a))))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Z),e.Y36(r.qu))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-recipe-list"]],decls:16,vars:6,consts:[[1,"container"],[1,"search-bar"],[1,"form"],["matInput","","type","text",3,"formControl"],["matSuffix",""],[3,"formControl"],["style","color: black;",3,"value",4,"ngFor","ngForOf"],["fxLayout","row wrap","fxLayoutGap","16px grid"],["fxFlex","33%","fxFlex.xs","100%","fxFlex.sm","50%",3,"recipe",4,"ngFor","ngForOf"],[2,"color","black",3,"value"],["fxFlex","33%","fxFlex.xs","100%","fxFlex.sm","50%",3,"recipe"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"mat-card",1)(2,"mat-card-title-group")(3,"mat-card-title"),e._uU(4," Rechercher une recette "),e.qZA(),e.TgZ(5,"div",2)(6,"mat-form-field"),e._UZ(7,"input",3),e.TgZ(8,"mat-icon",4),e._uU(9,"search"),e.qZA()(),e.TgZ(10,"mat-form-field")(11,"mat-select",5),e.YNc(12,D,2,2,"mat-option",6),e.qZA()()()()(),e.TgZ(13,"div",7),e.YNc(14,Q,1,1,"app-recipe-list-item",8),e.ALo(15,"async"),e.qZA()()),2&t&&(e.xp6(7),e.Q6J("formControl",i.searchCtrl),e.xp6(4),e.Q6J("formControl",i.searchTypeCtrl),e.xp6(1),e.Q6J("ngForOf",i.searchTypeOptions),e.xp6(2),e.Q6J("ngForOf",e.lcZ(15,4,i.recipes$)))},dependencies:[p.sg,c.a8,c.C1,c.n5,O.Hw,m.KE,m.R9,C.Nt,U.gD,A.ey,T.xw,T.SQ,T.yH,r.Fj,r.JJ,r.oH,$,p.Ov],styles:["h2[_ngcontent-%COMP%]{color:#fff}mat-form-field[_ngcontent-%COMP%]{border-radius:5px;margin-right:5px;padding:0 5px}.search-bar[_ngcontent-%COMP%]{margin-bottom:20px;width:99%}"],changeDetection:0}),n})();var d=s(5412);function Y(n,o){1&n&&(e.TgZ(0,"mat-error"),e._uU(1,"Le mot ne correspond pas ou n'est pas en majuscule"),e.qZA())}let E=(()=>{class n{constructor(t){this.dialog=t,this.suppWord=new r.NI}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(d.uw))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-dialog-suppress"]],decls:12,vars:3,consts:[["mat-dialog-title",""],["appearance","fill"],["matInput","","id","suppWord","type","text",3,"formControl"],["mat-button","","mat-dialog-close","","mat-dialog-close","false",1,"global-btn-info",2,"margin-bottom","10px"],["type","submit","mat-button","","mat-dialog-close","","mat-dialog-close","true",1,"global-btn",3,"disabled"],[4,"ngIf"]],template:function(t,i){1&t&&(e.TgZ(0,"h2",0),e._uU(1,"Supprimer la recette"),e.qZA(),e.TgZ(2,"mat-dialog-content"),e._uU(3,'Pour supprimer la recette entrez "SUPPRIMER"'),e.qZA(),e.TgZ(4,"mat-form-field",1),e._UZ(5,"input",2),e.qZA(),e.TgZ(6,"mat-dialog-actions")(7,"button",3),e._uU(8,"Revenir en arri\xe8re"),e.qZA(),e.TgZ(9,"button",4),e._uU(10,"Supprimer"),e.qZA()(),e.YNc(11,Y,2,0,"mat-error",5)),2&t&&(e.xp6(5),e.Q6J("formControl",i.suppWord),e.xp6(4),e.Q6J("disabled",null==i.suppWord.value||"SUPPRIMER"!==i.suppWord.value),e.xp6(2),e.Q6J("ngIf",null!==i.suppWord.value&&"SUPPRIMER"!==i.suppWord.value))},dependencies:[p.O5,h.lW,m.TO,m.KE,C.Nt,d.ZT,d.uh,d.xY,d.H8,r.Fj,r.JJ,r.oH]}),n})();function j(n,o){if(1&n&&(e.TgZ(0,"div")(1,"button",3)(2,"p"),e._uU(3),e.qZA()()()),2&n){const t=o.$implicit;e.xp6(3),e.lnq("",t.title," ",t.number,"",t.unit,"")}}function G(n,o){if(1&n&&(e.TgZ(0,"div",1),e.YNc(1,j,4,3,"div",2),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.ingredients)}}let z=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-ingredients"]],inputs:{ingredients:"ingredients"},decls:1,vars:1,consts:[["class","flex-content",4,"ngIf"],[1,"flex-content"],[4,"ngFor","ngForOf"],["mat-button","",1,"ing-style","ing-btn"]],template:function(t,i){1&t&&e.YNc(0,G,2,1,"div",0),2&t&&e.Q6J("ngIf",i.ingredients.length)},dependencies:[p.sg,p.O5,h.lW],styles:[".ing-btn[_ngcontent-%COMP%]{background-color:#e5ffe5;color:#000;padding-top:10px;margin-top:5px;margin-bottom:5px;margin-right:10px}.flex-content[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}"]}),n})();function W(n,o){if(1&n&&(e.TgZ(0,"div")(1,"div",3),e._uU(2),e.qZA(),e.TgZ(3,"p",4),e._uU(4),e.qZA()()),2&n){const t=o.$implicit,i=o.index;e.xp6(2),e.Oqu(i+1),e.xp6(2),e.Oqu(t.title)}}function H(n,o){if(1&n&&(e.TgZ(0,"div",1),e.YNc(1,W,5,2,"div",2),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.steps)}}let X=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-steps"]],inputs:{steps:"steps"},decls:1,vars:1,consts:[["class","flex-content",4,"ngIf"],[1,"flex-content"],[4,"ngFor","ngForOf"],[1,"circle"],[1,"text-step"]],template:function(t,i){1&t&&e.YNc(0,H,2,1,"div",0),2&t&&e.Q6J("ngIf",i.steps.length)},dependencies:[p.sg,p.O5],styles:[".text-step[_ngcontent-%COMP%]{display:block;font-size:1rem;font-weight:lighter;margin-top:15px;margin-bottom:15px}.circle[_ngcontent-%COMP%]{background:#ffd34d;border-radius:50%;width:40px;height:40px;text-align:center;padding-top:10px;color:#000;display:inline-block;vertical-align:super}"]}),n})();function K(n,o){if(1&n&&(e.ynx(0),e._UZ(1,"img",7),e.TgZ(2,"div",1)(3,"div")(4,"mat-card-title"),e._uU(5),e.ALo(6,"titlecase"),e.qZA(),e.TgZ(7,"mat-card-subtitle")(8,"span"),e._uU(9),e.ALo(10,"timeAgo"),e.qZA()()(),e.TgZ(11,"div")(12,"mat-card-actions")(13,"button",8),e._UZ(14,"img",9),e._uU(15),e.qZA(),e.TgZ(16,"button",8),e._UZ(17,"img",10),e._uU(18),e.qZA()()()(),e.TgZ(19,"mat-card-content")(20,"h3"),e._uU(21,"Description"),e.qZA(),e.TgZ(22,"p",11),e._uU(23),e.qZA(),e.TgZ(24,"h3"),e._uU(25,"Ingr\xe9dients"),e.qZA(),e.TgZ(26,"div",12),e._UZ(27,"app-ingredients",13),e.qZA(),e.TgZ(28,"h3"),e._uU(29,"\xc9tapes"),e.qZA(),e._UZ(30,"app-steps",14),e.qZA(),e.TgZ(31,"mat-card-actions")(32,"button",15),e._uU(33,"Favoris"),e.qZA()(),e.BQk()),2&n){const t=o.ngIf;e.xp6(1),e.Q6J("src",t.imageUrl,e.LSH)("alt",t.title),e.xp6(4),e.Oqu(e.lcZ(6,9,t.title)),e.xp6(4),e.Oqu(e.lcZ(10,11,t.createdDate)),e.xp6(6),e.Oqu(t.prepTime+" min"),e.xp6(3),e.Oqu(t.cookTime+" min"),e.xp6(5),e.Oqu(t.description),e.xp6(4),e.Q6J("ingredients",t.ingredients),e.xp6(3),e.Q6J("steps",t.steps)}}const V=[{path:"",component:B},{path:"new",component:P},{path:":id",component:(()=>{class n{constructor(t,i,a,l){this.router=t,this.route=i,this.recipesService=a,this.dialog=l}ngOnInit(){this.initObservable()}initObservable(){this.loading$=this.recipesService.loading$,this.recipe$=this.route.params.pipe((0,y.w)(t=>this.recipesService.getRecipeById(t.id)))}onDelete(){this.recipe$.pipe((0,I.q)(1),(0,x.b)(t=>{this.recipesService.deleteRecipe(t._id),this.onGoBack()})).subscribe()}onGoBack(){this.router.navigateByUrl("/mes-recettes")}openDialog(){this.dialog.open(E).afterClosed().subscribe(i=>{"true"==i&&this.onDelete()})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(u.F0),e.Y36(u.gz),e.Y36(Z),e.Y36(d.uw))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-single-recipe"]],decls:12,vars:3,consts:[[1,"container"],[1,"flex-content-between"],["mat-button","",1,"global-btn",3,"click"],["mat-button","",1,"global-btn-orange",2,"margin-left","10px",3,"click"],["mat-button","",1,"global-btn",2,"margin-left","10px",3,"click"],[1,"example-card"],[4,"ngIf"],["mat-card-image","",1,"card-img-class",3,"src","alt"],["mat-button","",1,"global-btn-orange"],["src","../../../../assets/images/baking.png","alt","Cook Time",1,"img-icon"],["src","../../../../assets/images/cooking.png","alt","Prep Time",1,"img-icon"],[1,"p-content"],[1,"flex-content"],[3,"ingredients"],[3,"steps"],["mat-button","",1,"global-btn"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"button",2),e.NdJ("click",function(){return i.onGoBack()}),e._uU(3,"Retour"),e.qZA(),e.TgZ(4,"div")(5,"button",3),e.NdJ("click",function(){return i.openDialog()}),e._uU(6," Modifier"),e.qZA(),e.TgZ(7,"button",4),e.NdJ("click",function(){return i.openDialog()}),e._uU(8," Supprimer"),e.qZA()()(),e.TgZ(9,"mat-card",5),e.YNc(10,K,34,13,"ng-container",6),e.ALo(11,"async"),e.qZA()()),2&t&&(e.xp6(10),e.Q6J("ngIf",e.lcZ(11,1,i.recipe$)))},dependencies:[p.O5,c.a8,c.dn,c.n5,c.$j,c.hq,c.G2,h.lW,z,X,p.Ov,p.rS,w],styles:[".example-card[_ngcontent-%COMP%]{margin-bottom:20px;background-color:#fff}.example-header-image[_ngcontent-%COMP%]{background-image:url(https://material.angular.io/assets/img/examples/shiba1.jpg);background-size:cover}.card-img-class[_ngcontent-%COMP%]{height:225px;object-fit:cover}.img-icon[_ngcontent-%COMP%]{height:25px!important;padding-right:7px}.bg-btn-color[_ngcontent-%COMP%]{background-color:#f0f8ff}.fav-btn-color[_ngcontent-%COMP%]{background:lightblue;color:#fff}.circle[_ngcontent-%COMP%]{background:rgb(55,55,55);border-radius:50%;width:40px;height:40px;text-align:center;padding-top:10px;color:#fff;display:inline-block;vertical-align:super}.mat-card-subtitle[_ngcontent-%COMP%]{margin-top:10px!important}h3[_ngcontent-%COMP%]{margin-top:10px;margin-right:10px;font-size:1.3rem}.flex-content-between[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-between}.flex-content[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.steps[_ngcontent-%COMP%]{margin-bottom:5px}.text-step[_ngcontent-%COMP%]{display:block;font-size:1rem;font-weight:lighter;margin-top:15px;margin-bottom:15px}.p-content[_ngcontent-%COMP%]{display:inline-block;font-size:1rem;font-weight:lighter}.ing-style[_ngcontent-%COMP%]{display:inline-block;font-size:1rem;font-weight:lighter;margin-right:10px}.ing-btn[_ngcontent-%COMP%]{background-color:#add8e6;color:#fff;margin-top:5px;margin-bottom:5px}"]}),n})()},{path:"",pathMatch:"full",redirectTo:"mes-recettes"}];let ee=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[u.Bz.forChild(V),u.Bz]}),n})();var te=s(479);let ne=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[Z],imports:[p.ez,ee,te.m]}),n})()}}]);